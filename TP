-- LocalScript: 2 nút TP nhanh (KÉO ĐƯỢC)

local Players = game:GetService("Players")
local UIS = game:GetService("UserInputService")
local player = Players.LocalPlayer

-- Lấy HRP
local function getHRP()
	local char = player.Character or player.CharacterAdded:Wait()
	return char:WaitForChild("HumanoidRootPart")
end

-- GUI
local gui = Instance.new("ScreenGui")
gui.Name = "DoubleTPGui"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

-- Hàm tạo nút
local function createButton(text, pos, color)
	local btn = Instance.new("TextButton")
	btn.Parent = gui
	btn.Size = UDim2.new(0, 48, 0, 48)
	btn.Position = pos
	btn.Text = text
	btn.TextSize = 14
	btn.Font = Enum.Font.SourceSansBold
	btn.TextColor3 = Color3.new(1,1,1)
	btn.BackgroundColor3 = color
	btn.AutoButtonColor = true

	local corner = Instance.new("UICorner")
	corner.CornerRadius = UDim.new(1, 0)
	corner.Parent = btn

	return btn
end

-- Hàm kéo nút
local function makeDraggable(btn)
	local dragging = false
	local dragStart, startPos

	btn.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1
		or input.UserInputType == Enum.UserInputType.Touch then
			dragging = true
			dragStart = input.Position
			startPos = btn.Position
		end
	end)

	btn.InputEnded:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1
		or input.UserInputType == Enum.UserInputType.Touch then
			dragging = false
		end
	end)

	UIS.InputChanged:Connect(function(input)
		if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement
		or input.UserInputType == Enum.UserInputType.Touch) then
			local delta = input.Position - dragStart
			btn.Position = UDim2.new(
				startPos.X.Scale,
				startPos.X.Offset + delta.X,
				startPos.Y.Scale,
				startPos.Y.Offset + delta.Y
			)
		end
	end)
end

-- Tọa độ TP
local TP1 = CFrame.new(-275.4, 306.2, 593.9)
local TP2 = CFrame.new(-6504.3, 83.2, -122.7)

-- Nút TP 1
local btn1 = createButton(
	"TP 1",
	UDim2.new(1, -110, 1, -180),
	Color3.fromRGB(80, 170, 255)
)

-- Nút TP 2
local btn2 = createButton(
	"TP 2",
	UDim2.new(1, -110, 1, -120),
	Color3.fromRGB(80, 200, 120)
)

-- Cho kéo
makeDraggable(btn1)
makeDraggable(btn2)

-- TP
btn1.MouseButton1Click:Connect(function()
	getHRP().CFrame = TP1
end)

btn2.MouseButton1Click:Connect(function()
	getHRP().CFrame = TP2
end)
